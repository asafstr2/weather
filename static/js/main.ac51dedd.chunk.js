(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{104:function(e,t,a){e.exports=a(138)},109:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),i=(a(109),a(17)),l=a(34),u=a(37),s=a(36),m=Object(l.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messege:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return Object(u.a)(Object(u.a)({},e),{},{messege:t.errors});case"REMOVE_ERROR":return Object(u.a)(Object(u.a)({},e),{},{messege:null});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_WEATHER":return Object(s.a)(t.weather);default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LOCATION":return t.location;default:return e}},favorite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JSON.parse(localStorage.getItem("fav"))||[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":var a=Object(s.a)(new Set([].concat(Object(s.a)(e),[t.favorite]).map(JSON.stringify))).map(JSON.parse);return localStorage.setItem("fav",JSON.stringify(a)),a;case"REMOVE_FAVORITE":var n=Object(s.a)(e.filter((function(e){return e.key!==t.key})));return localStorage.setItem("fav",JSON.stringify(n)),n;default:return e}}}),d=a(82);var v=a(27),f=a(20),b=a(195),p=a(83),E=a.n(p),h="JfXYGkLzTCiFRacsoHWsAVtb3XiiyHko",g="http://dataservice.accuweather.com/",y=function(e){return{type:"ADD_LOCATION",location:e}},O=a(84),j=a.n(O);function k(e,t,a){return new Promise((function(n,r){return j.a[e](t,a).then((function(e){return n(e.data)})).catch((function(e){return r(e.response.data.error)}))}))}var w=function(e){return{type:"ADD_ERROR",errors:e}},R=function(){return{type:"REMOVE_ERROR"}},N=function(e,t){return"".concat("http://dataservice.accuweather.com/","forecasts/").concat("v1","/daily/").concat(e,"day/").concat(t,"?apikey=").concat("JfXYGkLzTCiFRacsoHWsAVtb3XiiyHko","&details=true&metric=true")};function x(e,t){return function(a){return k("get",N(e,t)).then((function(e){return a({type:"LOAD_WEATHER",weather:e.DailyForecasts})})).catch((function(e){return a(w(e.messege))}))}}var S=a(201),D=a(202),C=a(194),I=a(204),L=a(193),A=a(191),T=a(192),F=a(190),P=a(185),V=r.a.forwardRef((function(e,t){return r.a.createElement(P.a,Object.assign({direction:"up",ref:t},e))}));function z(e){var t=e.content,a=e.removeError,o=r.a.useState(!1),c=Object(f.a)(o,2),i=c[0],l=c[1],u=function(){l(!1),a()};return Object(n.useEffect)((function(){t&&l(!0)}),[t]),r.a.createElement("div",null,r.a.createElement(I.a,{open:i,TransitionComponent:V,keepMounted:!0,onClose:u,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(F.a,{id:"alert-dialog-slide-title"},"Someting went wrong"),r.a.createElement(A.a,null,r.a.createElement(T.a,{id:"alert-dialog-slide-description",style:{color:"red"}},t)),r.a.createElement(L.a,null,r.a.createElement(C.a,{onClick:u,color:"primary"},"OK"))))}var M=a(196),_=Object(b.a)({container:{display:"flex"},headline:{margin:"auto"},list:{border:"1px solid black"}});var B=Object(i.b)((function(e){return{location:e.location,errors:e.errors}}),{fetchweather:x,addLocation:y,removeError:R})((function(e){var t=e.fetchweather,a=e.geo,o=e.addLocation,c=e.errors,i=e.removeError,l=Object(n.useState)(""),s=Object(f.a)(l,2),m=s[0],d=s[1],v=Object(n.useState)([]),b=Object(f.a)(v,2),p=b[0],E=b[1],y=Object(n.useState)(!1),O=Object(f.a)(y,2),j=O[0],w=O[1],R=_(),N=function(e,t){var a=Object(n.useState)(e),r=Object(f.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){c(e)}),t);return function(){clearTimeout(a)}}),[e]),o}(m,300);Object(n.useEffect)((function(){var e;N?(w(!0),k("get",(e=N,"".concat(g,"locations/").concat("v1","/cities/autocomplete?apikey=").concat(h,"&q=").concat(e))).then((function(e){w(!1),E(e)}))):E([])}),[N]),Object(n.useEffect)((function(){var e,n;(null===a||void 0===a?void 0:a.lon)&&k("get",(e=null===a||void 0===a?void 0:a.lat,n=null===a||void 0===a?void 0:a.lon,"".concat(g,"locations/").concat("v1","/cities/geoposition/search?apikey=").concat(h,"&q=").concat(e,"%2C").concat(n))).then((function(e){t(5,e.Key),o({key:e.Key,text:"".concat(e.LocalizedName,",").concat(e.Country.ID)})}))}),[a]);var x=function(e){e&&(t(5,e.Key),d("".concat(e.LocalizedName,",").concat(e.Country.ID)),o({key:e.Key,text:"".concat(e.LocalizedName,",").concat(e.Country.ID)}))},C=r.a.createElement("div",null,c.messege&&r.a.createElement(z,{content:c.messege,removeError:i}),r.a.createElement(D.a,{onInputChange:function(e,t){d(t)},placeholder:"Search for a city",inputValue:m,onChange:function(e,t){return x(t)},id:"combo",options:p,onClick:function(){return x(p)},getOptionLabel:function(e){return"".concat(e.LocalizedName,",").concat(e.Country.ID)},style:{width:300},renderInput:function(e){return r.a.createElement(S.a,Object.assign({},e,{label:j?"loading":"Search for city",variant:"outlined",InputProps:Object(u.a)(Object(u.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,j?r.a.createElement(M.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}}));return r.a.createElement("div",{className:R.container},C)})),W=Object(b.a)({navbar:{background:" radial-gradient(circle, rgba(253,133,29,1) 0%, rgba(252,204,69,0.9447129193474265) 100%)",marginBottom:"1rem","& a":{color:"black",fontWeight:"bold",opacity:"0.6",transition:"0.3s","&:hover":{opacity:"1",textDecoration:"none",cursor:"pointer"}}},navbarBrand:{"& img":{display:"inline-block",width:40,height:40,borderRadius:"2px",margin:"5px"}},links:{"& li":{margin:"0 3px 0 3px"}}});function J(){var e=Object(n.useState)(),t=Object(f.a)(e,2),a=t[0],o=t[1],c=W();return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){o({lat:e.coords.latitude,lon:e.coords.longitude})}))}),[]),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light ".concat(c.navbar)},r.a.createElement("span",{className:"navbar-brand"},r.a.createElement(v.b,{to:"/",className:"navbar-brand ".concat(c.navbarBrand)},r.a.createElement("img",{src:E.a,alt:"weather icon"}))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(v.b,{className:"nav-link",to:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link"},r.a.createElement(v.b,{to:"/favorite"},"Favorite")))),r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement(B,{geo:a}))))}var H=a(14),K=a(43),X=a.n(K),Y=a(57),q=a(197),G=a(199),U=a(198),$=a(96),Q=a(48),Z=a(93),ee=a.n(Z),te=Object(b.a)({root:{minWidth:300,marginBottom:50,marginRight:20,"&:hover":{cursor:function(e){return e?"pointer":""}}},title:{fontSize:14},pos:{marginBottom:50},temp:{fontSize:10}});function ae(e){var t=e.Date,a=e.Temperature,n=e.IconPhrase,o=e.RainProbability,c=e.Link,i=e.favorite,l=e.hundleClick,u=e.isFavorite,s=e.deleteCard,m="".concat(a.Maximum.Value).concat(a.Maximum.Unit),d="".concat(a.Minimum.Value).concat(a.Minimum.Unit),v=te(u);return r.a.createElement(q.a,{className:v.root,onClick:l},r.a.createElement(U.a,null,r.a.createElement($.a,{className:v.title,color:"textSecondary",gutterBottom:!0},ee()(t).format("DD/MM/YY")),r.a.createElement($.a,{className:v.title,color:"textSecondary",gutterBottom:!0},i&&i),r.a.createElement($.a,{variant:"h5",component:"h2"},n),n.includes("un")?r.a.createElement(Q.d,null):n.includes("loud")?r.a.createElement(Q.a,null):n.includes("ain")||n.includes("howers")?r.a.createElement(Q.b,null):n.includes("now")?r.a.createElement(Q.c,null):void 0,r.a.createElement($.a,{className:v.pos,color:"textSecondary"},"Rain Probability: ",o),r.a.createElement($.a,{variant:"body2",component:"p",display:"inline"},m),r.a.createElement($.a,{color:"textSecondary",display:"inline",className:v.temp},"` HI`"),r.a.createElement("br",null),r.a.createElement($.a,{variant:"body2",component:"p",display:"inline"},d),r.a.createElement($.a,{color:"textSecondary",display:"inline",className:v.temp},"` LO`")),r.a.createElement(G.a,null,r.a.createElement(C.a,{size:"small",href:c},"Learn More"),u&&r.a.createElement(C.a,{size:"small",onClick:s},"x")))}var ne=Object(b.a)((function(e){return{cardRoot:{display:"flex",flexWrap:"wrap"}}}));var re=Object(i.b)((function(e){return{weather:e.weather}}),{fetchweather:x})((function(e){var t=e.weather,a=ne(),n=t.map((function(e,t){var a=e.Date,n=e.Temperature,o=e.Day,c=e.Link,i=o.Rain,l=o.RainProbability;return r.a.createElement(ae,{key:t,Date:a,Temperature:n,IconPhrase:o.IconPhrase,Rain:i.Value,RainProbability:l,Link:c,isFavorite:!1})}));return r.a.createElement("div",{className:a.cardRoot},n)})),oe=function(e){return{type:"ADD_FAVORITE",favorite:e}};var ce=a(94),ie=a.n(ce),le=Object(b.a)({headline:{display:"flex",marginBottom:10,"& a":{marginRight:"auto","& svg":{color:"red",fontSize:"2rem"},"& :hover":{transform:"scale(1.1)",transition:"all 0.6s"}}},header:{marginRight:10,letterSpacing:2}});var ue=Object(i.b)((function(e){return{location:e.location,errors:e.errors}}),{addFavorite:oe,removeError:R})((function(e){var t=e.location,a=e.addFavorite,n=e.errors,o=le(),c=function(){var e=Object(Y.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,n.messege&&r.a.createElement(z,{content:n.messege,removeError:R}),r.a.createElement("div",{className:o.Container}),r.a.createElement("div",{className:o.headline},r.a.createElement("h1",{className:o.header},t.text),(null===t||void 0===t?void 0:t.text)?r.a.createElement(v.b,{size:"small",to:"/favorite"},r.a.createElement(ie.a,{onClick:c})):r.a.createElement("h1",null,"Location is off or not allowed from this divice but you can still search for a city in the NavBar")),r.a.createElement(re,null))})),se=Object(b.a)((function(e){return{cardRoot:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"}}}));var me=Object(i.b)((function(e){return{favorite:e.favorite}}),{fetchweather:x,addLocation:y,removeFavorite:function(e){return{type:"REMOVE_FAVORITE",key:e}}})((function(e){var t=e.favorite,a=e.fetchweather,o=e.addLocation,c=e.removeFavorite,i=Object(n.useState)([]),l=Object(f.a)(i,2),u=l[0],m=l[1];Object(n.useEffect)((function(){m([]);try{t.map((function(e){return k("get",N(1,e.key)).then((function(e){m((function(t){return[].concat(Object(s.a)(t),[e.DailyForecasts[0]])}))}))}))}catch(e){}}),[t]);var d=Object(H.f)(),v=se(),b=null===u||void 0===u?void 0:u.map((function(e,n){var i,l,u=e.Date,s=e.Temperature,m=e.Day,v=e.Link,f=m.Rain,b=m.RainProbability;return r.a.createElement(ae,{favorite:null===(i=t[n])||void 0===i?void 0:i.text,key:null===(l=t[n])||void 0===l?void 0:l.key,Date:u,Temperature:s,IconPhrase:m.IconPhrase,Rain:f.Value,RainProbability:b,Link:v,hundleClick:function(){var e,r,c,i;return c=null===(e=t[n])||void 0===e?void 0:e.key,i=null===(r=t[n])||void 0===r?void 0:r.text,a(5,c),o({key:c,text:i}),void d.push("/")},deleteCard:function(e){var a;return function(e,t){t.stopPropagation(),c(e)}(null===(a=t[n])||void 0===a?void 0:a.key,e)},isFavorite:!0})}));return r.a.createElement("div",{className:v.cardRoot},u?b:r.a.createElement("div",null,"loading"))}));var de=Object(b.a)({container:{}});var ve={removeError:R},fe=Object(H.g)(Object(i.b)((function(e){return{errors:e.errors}}),ve)((function(e){var t,a=e.errors,o=e.removeError,c=de();return r.a.createElement("div",{className:c.container},r.a.createElement(H.c,null,r.a.createElement(H.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(ue,Object.assign({},e,{errors:a,removeError:o}))}}),r.a.createElement(H.a,{exact:!0,path:"/favorite",component:(t=me,Object(i.b)((function(e){return{favorite:e.favorite}}))((function(e,a){var o=e.favorite,c=e.history;return Object(n.useEffect)((function(){o.length<1&&c.push("/")}),[o]),r.a.createElement(t,a)})))})))}))),be=a(200),pe=(a(135),a(136),Object(l.e)(m,Object(l.d)(Object(l.a)(d.a)))),Ee=function(){return r.a.createElement(i.a,{store:pe},r.a.createElement(v.a,null,r.a.createElement("div",{style:{background:"#f5f5f5"}},r.a.createElement(J,null),r.a.createElement(be.a,{maxWidth:"lg"},r.a.createElement(fe,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,a){e.exports=a.p+"static/media/icon.9716e0df.svg"}},[[104,1,2]]]);
//# sourceMappingURL=main.ac51dedd.chunk.js.map